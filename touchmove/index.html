<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <script type="text/javascript" src="../static/js/jquery.js"></script>
    <link rel="stylesheet" href="../static/common.css">
    <script src="js/language.js"></script>
    <link rel="stylesheet" type="text/css" href="css/professionalAccount.css">
    <title></title>

    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PN4G8XG');
    </script>
</head>
<body>
    <div class="loading_mask">
        <div class="lm_wrap">
            <img src="./images/light.gif"/>
        </div>
    </div>
    <div class="app">
        <div class="header">
            <div class="back-icon"></div>
            <div class="title"></div>
            <div class="chat-icon"></div>
        </div>
        <div class="content-top">
            <img src="./images/pro_poster.png" alt="">
            <div class="content-top-desc">
                <i class="staple left-icon"></i>
                <i class="staple right-icon"></i>
                <i class="icon-notice"></i>
                <p class="renderDom" data-lang="professional_account_type_3"></p>
            </div>
        </div>
        <div class="content-middle">
            <h2 class="renderDom" data-lang="account_type_difference_title"></h2>
            <table cellspacing="0" cellpadding="0" class="main">
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_title_1"></td>
                    <td class="renderDom" data-lang="standard_account_title"></td>
                    <td class="renderDom" data-lang="standard_account_title_2"></td>
                    <td class="renderDom" data-lang="professional_account_title"></td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_forex"></td>
                    <td>1:200</td>
                    <td class="renderDom" data-lang="professional_account_table_list2_2"></td>
                    <td>1:250</td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_indices"></td>
                    <td>1:200</td>
                    <td class="renderDom" data-lang="professional_account_table_list2_3"></td>
                    <td>1:250</td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_gold"></td>
                    <td>1:100</td>
                    <td>1:20</td>
                    <td>1:200</td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_commodities"></td>
                    <td>1:200</td>
                    <td>1:10</td>
                    <td>1:200</td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_share"></td>
                    <td>1:20</td>
                    <td>1:5</td>
                    <td>1:20</td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_7"></td>
                    <td><i></i></td>
                    <td><i></i></td>
                    <td><i></i></td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_8"></td>
                    <td><i></i></td>
                    <td><i></i></td>
                    <td><i></i></td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_9"></td>
                    <td><i></i></td>
                    <td><i></i></td>
                    <td><i></i></td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_10"></td>
                    <td><i></i></td>
                    <td><i></i></td>
                    <td><i></i></td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_11"></td>
                    <td><i></i></td>
                    <td><i></i></td>
                    <td><i></i></td>
                </tr>
                <tr>
                    <td class="renderDom" data-lang="professional_account_table_12"></td>
                    <td><i></i></td>
                    <td><i></i></td>
                    <td>-</td>
                </tr>
            </table>
            <ul>
                <li>
                    <p class="renderDom" data-lang="professional_account_major_currency"></p>
                    <p class="renderDom" data-lang="professional_account_major_currency_desc"></p>
                </li>
                <li>
                    <p class="renderDom" data-lang="professional_account_ordinary_currency"></p>
                    <p class="renderDom" data-lang="professional_account_ordinary_currency_desc"></p>
                </li>
                <li>
                    <p class="renderDom" data-lang="professional_account_major_indices"></p>
                    <p class="renderDom" data-lang="professional_account_major_indices_desc"></p>
                </li>
                <li>
                    <p class="renderDom" data-lang="professional_account_ordinary_indices"></p>
                    <p class="renderDom" data-lang="professional_account_ordinaryr_indices_desc"></p>
                </li>
            </ul>
        </div>
        <div class="content-bottom">
            <h2 class="renderDom" data-lang="professional_account_apply_requirements"></h2>
            <p class="renderDom" data-lang="professional_account_apply_requirements_desc"></p>
            <ul>
                <li>
                    <i></i>
                    <p class="renderDom" data-lang="professional_account_apply_requirements_1"></p>
                </li>
                <li>
                    <i></i>
                    <p class="renderDom" data-lang="professional_account_apply_requirements_2"></p>
                </li>
            </ul>
            <p class="renderDom" data-lang="professional_account_certificate"></p>
        </div>
        <div class="content-footer">
            <ul>
                <li>
                    <p class="renderDom" data-lang="professional_account_net_asset"></p>
                    <p class="renderDom" data-lang="professional_account_net_asset_desc"></p>
                </li>
                <li>
                    <p class="renderDom" data-lang="professional_account_net_asset_desc_2"></p>
                </li>
            </ul>
            <p class="renderDom email-address" data-lang="professional_account_net_asset_desc_3"></p>
            <p><a class="renderDom faq-link" data-lang="professional_account_faq"></a></p>
        </div>
    </div>
    <script src="./js/jquery.js"></script>

	<!-- 移动端测试 -->
	<script>

        document.documentElement.style.fontSize = document.documentElement.clientWidth / 3.75 + 'px';

        $(function() {
            var trackI = 0,
                pageName = 'professionalAccount',
                lang = getQueryStringArgs("lang") ? getQueryStringArgs("lang"): "cn",
                isProfessional = getQueryStringArgs("isProfessional") === "false" ? false : getQueryStringArgs("isProfessional");

            function showPage() {
                $(".loading_mask").hide();
                $(".app").show();
            };

            setTimeout(function() {
                showPage();
            }, 2000);

            $('.title').text(langArr[lang]['professional_account_type']);

            // 适配多语言核心处理
            for(var i = 0; i < $('.renderDom').length; i++) {
                var keyLang = $('.renderDom').eq(i).attr('data-lang');
                $('.renderDom').eq(i).html(langArr[lang][keyLang]);
            }

            if(isProfessional) {
                $(".content-top-desc > p").html(langArr[lang]['professional_account_type_2']);
            } 

            $(document).ready(function(){
                var startX,     // 移动开始X坐标
                    startY,     // 移动开始Y坐标
                    moveEndX,   // 左右移动值
                    moveEndY,  // 上下移动值
                    swiperX, // 是否进行左右移动
                    swiperY, // 是否进行上下移动
                    operate = 0; // 标识左移还是右移参数

                var backDom = document.getElementsByClassName("main")[0];

                backDom.addEventListener("touchstart", function(evt) {
                    startX = Number(evt.targetTouches[0].screenX); // 手指开始移动的X坐标值
                    startY = Number(evt.targetTouches[0].screenY); // 手指开始移动的Y坐标值
                    swiperX = true; 
                    swiperY = true;
                });
                
                /**
                 * touchmove事件监听需要阻止浏览器的默认事件
                 * 1、左右滑动时只阻止对应的浏览器默认事件，对后续上下滑动不能产生影响，因为假如监听某个DOM，在DOM上进行左右滑动，进行相应事件处理，
                 * 如果全部阻止浏览器的默认事件，上下滑动则会失效。
                 * 2、同理上下滑动时只阻止上下滑动对应的浏览器默认事件
                 * **/
                backDom.addEventListener("touchmove", function(evt) {
                    var x = Number(evt.targetTouches[0].screenX), // touchmove的移动X坐标终点
                        y = Number(evt.targetTouches[0].screenY); // touchmove的移动Y坐标终点

                    moveEndX = Math.abs(x - startX); // 左右移动值
                    moveEndY = Math.abs(y - startY); // 上下移动值
                    // 左右滑动
                    if (swiperX && moveEndX - moveEndY > 0) {
                        event.stopPropagation();  // 左右滑动时阻止冒泡
                        event.preventDefault(); // 左右滑动时阻止浏览器默认事件
                        swipeY = false ; // 阻止上下滑动
                    } else if (swiperY && moveEndX - moveEndY < 0) {
                        swiperX = false; // 阻止左右滑动
                    }
                    if (x - startX > 0) {
                        operate = 1;
                    } else {
                        operate = 0; 
                    }
                });

                backDom.addEventListener("touchend",function(evt) {

                    // 控制显示隐藏操作部分
                    if( swiperX && operate == 1) {
                        $("tbody tr td:nth-of-type(2)").css("display", "table-cell");
                        $("tbody tr td:nth-of-type(4)").css("display", "none");
                    } else if (swiperX && operate == 0) {
                        $("tbody tr td:nth-of-type(2)").css("display", "none");
                        $("tbody tr td:nth-of-type(4)").css("display", "table-cell");
                    }
                })
            });

            // 返回上一步
            $(document).on('click', '.back-icon', function(){
                window.backToNative && window.backToNative ();
            });
        });

        // 判断IOS系统
        function isIOS() {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;
        };

        // 判断Android系统
        function isAndroid () {
            return navigator.userAgent.match(/Android/i) ? true : false;
        };

        //取地址栏后面的参数
        function getQueryStringArgs(key) {
            // 获取查询字符串参数，去除该字符串问号开关符号
            var qs = location.search.length > 0 ? location.search.substring (1) : '',
                args = {}, //存放所有查询字符串参数对
                items = qs.split ('&'),
                len = items.length,
                name = null,
                value = null;

            if (qs.length == 0) {
                return key == undefined ? [] : '';
            }
            for (var i = 0; i < len; i++) {
                var item = items[i].split ('=');
                name = decodeURIComponent (item[0]);
                value = decodeURIComponent (item[1]);
                args[name] = value;
            }
            if (key == undefined) {
                return args;
            }
            var ret = args[key];
            ret = ret == undefined ? '' : ret;
            return ret;
        }
	</script>
</body>
</html>